<!-- 语音识别组件 -->
<view class="voice-recognition">
  <!-- 头部区域 -->
  <view class="voice-header" wx:if="{{title || subtitle}}">
    <view class="voice-title" wx:if="{{title}}">{{title}}</view>
    <view class="voice-subtitle" wx:if="{{subtitle}}">{{subtitle}}</view>
    
    <!-- 语言切换区域 -->
    <view class="language-switcher" wx:if="{{showLanguageSwitch}}">
      <view 
        class="lang-btn {{currentLang === 'zh_CN' ? 'active' : ''}}" 
        data-lang="zh_CN" 
        bindtap="switchLanguage"
        wx:if="{{showChineseOption}}">中文</view>
      <view 
        class="lang-btn {{currentLang === 'en_US' ? 'active' : ''}}" 
        data-lang="en_US" 
        bindtap="switchLanguage"
        wx:if="{{showEnglishOption}}">English</view>
    </view>
  </view>
  
  <!-- 录音按钮区域 -->
  <view class="record-area">
    <view class="record-status-text">
      <block wx:if="{{recordStatus === 'ready'}}">
        点击开始录音
      </block>
      <block wx:elif="{{recordStatus === 'recording'}}">
        正在录音: {{recordTimeCount}}s / {{maxRecordTime}}s
      </block>
      <block wx:elif="{{recordStatus === 'processing'}}">
        正在处理录音...
      </block>
    </view>
    
    <view class="record-button {{isRecording ? 'recording' : ''}}" bindtap="toggleRecording">
      <image class="record-icon" src="/images/{{isRecording ? 'stop' : 'mic'}}.png" mode="aspectFit"></image>
    </view>
    
    <view class="record-tip">
      <block wx:if="{{isRecording}}">
        点击停止录音
      </block>
      <block wx:else>
        最长可录制{{maxRecordTime}}秒
      </block>
    </view>
  </view>
  
  <!-- 识别结果区域 -->
  <view class="result-area" wx:if="{{recognizedText}}">
    <view class="result-title">识别结果：</view>
    <view class="result-text">{{recognizedText}}</view>
    <view class="clear-result" bindtap="clearResult">清空结果</view>
  </view>
</view> 